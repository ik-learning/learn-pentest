# Ruby on rails Vulnerabilities

1. Convention ORM issues

```ruby
class User < ActiveRecord::Base
  belongs_to :organisation
end

class Organisation < ActiveRecord::Base
  has_many :users
end
```

You can guess the fact that organisation is used by visiting the organisation page and looking at the URL. You will see that the class is probably named Organisation. And therefore the key in the users table is likely to be organisation_id.

2. Look for eval, inject `double quote`

Example error
```
@message = eval "\"Hello "+params['username']+"\""
```

How to inject `COMMAND`
```
A double-quote " to break out of the string.
Add a + sign for string concatenation (don't forget to URL-encode it)
Add a call to the command ([COMMAND]) we want to run using `[COMMAND]`.
Add another + sign for string concatenation.
Another double-quote " to close the one that was already there.
```